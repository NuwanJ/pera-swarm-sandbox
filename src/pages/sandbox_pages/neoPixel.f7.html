<template>
    <div class="page" data-name="neopixel">
        <div class="navbar">
            <div class="navbar-bg"></div>
            <div class="navbar-inner sliding">
                <div class="title">NeoPixel</div>
            </div>
        </div>
        <div class="page-content">
            <div class="container pt-2">
                <h3>Neo Pixel LED Ring</h3>
                <div class="form-group card p-2">
                    <div class="row">
                        <div class="col-md-8">
                            <div class="input-group d-inline-flex align-items-center">
                                <label for="neo-robot-id" class="m-2">Robot Id</label>
                                <input
                                    id="neo-robot-id"
                                    type="number"
                                    min="0"
                                    class="form-control m-2"
                                    style="width: 100px"
                                    placeholder=""
                                    value="0"
                                />
                                <div
                                    id="color-box-neo"
                                    class="p-2 m-3 border"
                                    style="
                                        width: 40px;
                                        height: 40px;
                                        background-color: rgb(0, 0, 0);
                                    "
                                ></div>
                            </div>

                            <div class="p-2 d-flex flex-row align-content-center">
                                <label for="neo-red-bar" style="width: 100px">R</label>
                                <input
                                    id="neo-red-bar"
                                    type="range"
                                    class="py-3 px-3 custom-range"
                                    min="0"
                                    max="255"
                                    value="0"
                                    step="1"
                                />
                                <input
                                    id="neo-red-val"
                                    type="number"
                                    min="0"
                                    max="255"
                                    class="form-control w-25"
                                    value="0"
                                />
                            </div>

                            <div class="p-2 d-flex flex-row align-content-center">
                                <label for="neo-green-bar" style="width: 100px">G</label>
                                <input
                                    id="neo-green-bar"
                                    type="range"
                                    class="py-3 px-3 custom-range"
                                    min="0"
                                    max="255"
                                    value="0"
                                    step="1"
                                />
                                <input
                                    id="neo-green-val"
                                    type="number"
                                    min="0"
                                    max="255"
                                    class="form-control w-25"
                                    value="0"
                                />
                            </div>

                            <div class="p-2 d-flex flex-row align-content-center">
                                <label for="neo-blue-bar" style="width: 100px">B</label>
                                <input
                                    id="neo-blue-bar"
                                    type="range"
                                    class="py-3 px-3 custom-range"
                                    min="0"
                                    max="255"
                                    value="0"
                                    step="1"
                                />
                                <input
                                    id="neo-blue-val"
                                    type="number"
                                    min="0"
                                    max="255"
                                    class="form-control w-25"
                                    value="0"
                                />
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div>
                                <b
                                    ><span class="channel">{channel}</span
                                    >/output/neopixel/<span class="neo-robot-id"
                                        >{robotId}</span
                                    ></b
                                >
                                <span class="float-right"
                                    ><a target="_blank" href="#">[?]</a></span
                                >
                            </div>
                            <div>
                                <span class="neo-red-val">0</span>
                                <span class="neo-green-val">0</span>
                                <span class="neo-blue-val">0</span>
                            </div>
                            <button
                                class="btn btn-primary m-1 mb-3"
                                id="neopixel-btn-send-robot"
                            >
                                Send to Robot
                            </button>

                            <div>
                                <b
                                    ><span class="channel">{channel}</span
                                    >/output/neopixel</b
                                >
                                <span class="float-right"
                                    ><a target="_blank" href="#">[?]</a></span
                                >
                            </div>
                            <div>
                                { "id":"<span class="neo-robot-id">{robotId}</span>",
                                "R":"<span class="neo-red-val">0</span>", "G":"<span
                                    class="neo-green-val"
                                    >0</span
                                >", "B":"<span class="neo-blue-val">0</span>" }
                            </div>
                            <button
                                class="btn btn-success m-1 mb-3"
                                id="neopixel-btn-send-server"
                            >
                                Send to Server
                            </button>
                            <br />
                        </div>
                    </div>
                </div>

                <div class="form-group card p-3">
                    <div class="pb-4">
                        <label for="neopixel-sub-text">
                            Messages received from physical robots to the server (<b
                                ><span class="channel">{channel}</span>/output/neopixel</b
                            >)<br />
                        </label>

                        <div class="input-group align-self-start">
                            <textarea
                                id="neopixel-sub-text"
                                type="text"
                                class="form-control mr-2"
                                placeholder=""
                            ></textarea>
                        </div>
                    </div>
                </div>

                <div class="form-group card p-3">
                    <div class="pb-4">
                        <label for="neopixel-sub-text">
                            Messages received to
                            <b
                                ><span class="channel">{channel}</span
                                >/output/neopixel/<span class="neo-robot-id"
                                    >{robotId}</span
                                ></b
                            ><br />
                        </label>

                        <div class="input-group align-self-start">
                            <textarea
                                id="neopixel-sub-robot-text"
                                type="text"
                                class="form-control mr-2"
                                placeholder=""
                            ></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
    import { setup } from '../../js/sandbox_scripts/neoPixel';

    export default (props, { $f7, $on }) => {
        $on('pageInit', (e, page) => {
            setup();
        });
        return $render;
    };
</script>
